<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.5/nv.d3.css" rel="stylesheet" type="text/css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/nvd3/1.8.5/nv.d3.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js"></script>
    <style>
    svg.nvd3-svg {
        height: 600px;
    }
    </style>
</head>

<body>
    <div id="chart-area">
        <svg>
        </svg>
    </div>
</body>
<script>
function drawchart(data) {
    nv.addGraph(function() {
        chart = nv.models.parallelCoordinates()
            .dimensionNames(["2012-13", "2013-14", "2014-15 ", "2015-16(BE)", "2015-16(RE)", "2016-17(BE)"])
            .dimensionFormats([d3.format("0.3f"), d3.format("0.3f"), d3.format("0.3f"), d3.format("0.3f"), d3.format("0.3f"), d3.format("0.3f")])
            .lineTension(0.85);
        chart.width(600)
            .height(500)
        d3.select('#chart-area svg')
            .datum(data)
            .call(chart);
        nv.utils.windowResize(chart.update);
        return chart;
    });

}
d3.csv("./data/adivasis.csv", function(error, data) {
    console.log(data)
    drawchart(data)
    data.forEach(function(d) {
        d['2012-13'] = +d['2012-13'];
        d['2013-14'] = +d['2013-14'];
        d['2014-15 '] = +d['2014-15 '];
        d['2015-16(BE)'] = +d['2015-16(BE)'];
        d['2015-16(RE)'] = +d['2015-16(RE)'];
        d['2016-17(BE)'] = +d['2016-17(BE)'];
    });
    //populateSelection(data)
    /*for (var j=0; j<data.length;j++)
        {
            drawchart(find_years(data[j]))
        }*/
})
</script>

</html>
